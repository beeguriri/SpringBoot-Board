#### ⛏2023.04.16.

###### 1.날짜 칼럼 추가 시 type error 발생

```java
@Column(insertable = false, updatable = false, columnDefinition = "date default CURRENT_TIMESTAMP")
private Date createDate;
```

+ 확인

  + MySQL date type (date , datetime)

  + 
       current_timestamp 같은 경우 시간까지 찍히므로 date로 타입지정해줄 경우 error code 1067 발생

+ 해결
  + LocalDateTime
+ 추가
  + JpaAuditing 기능 이용하여 입력,수정시간 자동 갱신

```java
//추상클래스 엔티티 생성
@Getter
@MappedSuperclass
@EntityListeners(AuditingEntityListener.class)
public abstract class BaseTimeEntity {

    @CreatedDate
    public LocalDateTime createdDate;

    @LastModifiedDate
    private LocalDateTime modifiedDate;
}

// 각 entity에서 추상클래스 extends
// annotation 추가
public class Board extends BaseTimeEntity {
	...

    @CreatedDate
    public LocalDateTime createdDate;

    @LastModifiedDate
    private LocalDateTime modifiedDate;
    
    ...
}
    
// application file에 enable annotation 추가
@EnableJpaAuditing
@SpringBootApplication
public class ModuFormApplication {
	public static void main(String[] args) {
		SpringApplication.run(ModuFormApplication.class, args);
	}
}
```



###### 2.칼럼 default값 지정시 SQL error 발생

```java
@Column(insertable = false, updatable = false, columnDefinition = "number default 0")
```

+ 해결
  + H2 DataBase 사용할때와 문법이 다른 것 같다

``` java
@Column(insertable = false, columnDefinition = "integer default 0")
```

<br>

#### ⛏2023.04.21.
###### 1.thymeleaf 날짜포맷 지정 관련
+ 기존
```java
<td th:text="${#dates.format(board.createDate, 'yyyy-MM-dd')}">
```
+ 해결
  + `#dates` : utility methods for java.util.Date objects
  + `#calendars` : analogous to #dates, but for java.util.Calendar objects:
  + `#temporals` : deal with date/time objects from the JDK8+ java.time API
```java
<td th:text="${#temporals.format(board.createdDate, 'yyyy-MM-dd HH:mm')}">
```

###### 2.thymeleaf input box 관련
+ 기존
  + /getBoard에서 바로 제목, 내용 수정할수 있도록 함
```java
<input name="title" type="text" th:value="${board.title}" />
```
+ 해결
  + "/getBoard"에서 수정버튼 클릭시 updateBoard/seq paramater 넘기기
  + input box 태그속성값 수정
```java
<td><input type="text" th:field="*{updateBoard.title}"></td>
```

<br>

#### ⛏2023.04.22.
###### 1.updateBoard 관련
+ 문제
  + 수정하기 버튼을 누르면 seq == null 로 넘어감
  + textarea의 수정내용 반영 안됨
+ 해결
  + `input box type="hidden"으로 주고 폼값으로 seq값 전송`
  ```java
    <input type="hidden" th:field="*{updateBoard.seq}">
  ```
  + `textarea name속성 지정해줌`
  ```java
  <textarea id="content" name="content" th:text="${updateBoard.content}" rows="7" cols="50">
  ```
+ 추가
  + thymeleaf expression syntax 관련 공부중
  + Selection expressions are just like variable expressions, 
  + except they will be executed on a previously selected object instead of the whole context variables map.
  + https://www.thymeleaf.org/doc/articles/standarddialect5minutes.html
```java
${...} : Variable expressions.
*{...} : Selection expressions.
```

###### 2.insertBoard 관련
+ 문제
  + User Table의 f.k 연결때문에 입력 불가
  + user 페이지 작업 후 insertBoard 작업 하기

###### 3.게시글 paging처리
+ 해결
  + boardRepository의 상속을 crud => jpa로 변경
  + jpa의 paging기능 이용
  + `PageRequest.of()` 로 페이징 할 게시물 목록 수 지정
  + `@RequestParam` 으로 page값 받아오기
  + thymeleaf 속성지정 : `th:href="@{/boardList(page=${pageStat.index})}"`

<br>

#### ⛏2023.04.23.
###### 1.`Security` 사용 관련
+ Note
  + localhost:8080/ 접속 시 로그인 요청화면 자동으로 뜸
  + id : user / password : console창에 생성
  + 로그인 성공 시 boardList로 넘어감
  + 로그인 하지않아도 접근할수있는 예외페이지 설정해주기(회원가입)